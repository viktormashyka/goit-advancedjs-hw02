{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconsole.log('form: ', form.elements);\n\nform.addEventListener('submit', handleSubmit);\n\nconst { delay, step, amount } = form.elements;\n\nfunction handleSubmit(evt) {\n  evt.preventDefault();\n\n  const inputsValue = {\n    delay: delay.value,\n    step: step.value,\n    amount: amount.value,\n  };\n\n  console.log('inputValue: ', inputsValue);\n\n  const delayValue = Number(inputsValue.delay);\n  const amountValue = Number(inputsValue.amount);\n  let stepValue = Number(inputsValue.step);\n\n  for (let i = 1; i <= amountValue; i += 1) {\n    const currentDelay =\n      i === 1 ? delayValue : delayValue + stepValue * (i - 1);\n    setTimeout(() => createPromise(i, currentDelay), currentDelay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    // Fulfill\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    iziToast.success({\n      theme: 'green',\n      position: 'topRight',\n      message: `Fulfilled promise ${position} in ${delay}ms`,\n    });\n  } else {\n    // Reject\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    iziToast.error({\n      theme: 'red',\n      position: 'topRight',\n      message: `Rejected promise ${position} in ${delay}ms`,\n    });\n  }\n}\n"],"names":["form","handleSubmit","delay","step","amount","evt","inputsValue","delayValue","amountValue","stepValue","i","currentDelay","createPromise","position","iziToast"],"mappings":"wIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAC3C,QAAQ,IAAI,SAAUA,EAAK,QAAQ,EAEnCA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,KAAM,CAAE,MAAAC,EAAO,KAAAC,EAAM,OAAAC,CAAM,EAAKJ,EAAK,SAErC,SAASC,EAAaI,EAAK,CACzBA,EAAI,eAAc,EAElB,MAAMC,EAAc,CAClB,MAAOJ,EAAM,MACb,KAAMC,EAAK,MACX,OAAQC,EAAO,KACnB,EAEE,QAAQ,IAAI,eAAgBE,CAAW,EAEvC,MAAMC,EAAa,OAAOD,EAAY,KAAK,EACrCE,EAAc,OAAOF,EAAY,MAAM,EAC7C,IAAIG,EAAY,OAAOH,EAAY,IAAI,EAEvC,QAASI,EAAI,EAAGA,GAAKF,EAAaE,GAAK,EAAG,CACxC,MAAMC,EACJD,IAAM,EAAIH,EAAaA,EAAaE,GAAaC,EAAI,GACvD,WAAW,IAAME,EAAcF,EAAGC,CAAY,EAAGA,CAAY,CAC9D,CACH,CAEA,SAASC,EAAcC,EAAUX,EAAO,CAChB,KAAK,OAAM,EAAK,IAGpC,QAAQ,IAAI,uBAAuBW,QAAeX,KAAS,EAC3DY,EAAS,QAAQ,CACf,MAAO,QACP,SAAU,WACV,QAAS,qBAAqBD,QAAeX,KACnD,CAAK,IAGD,QAAQ,IAAI,sBAAsBW,QAAeX,KAAS,EAC1DY,EAAS,MAAM,CACb,MAAO,MACP,SAAU,WACV,QAAS,oBAAoBD,QAAeX,KAClD,CAAK,EAEL"}