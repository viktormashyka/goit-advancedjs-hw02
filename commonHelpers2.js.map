{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nlet countdown = 0;\nlet timeObject = {};\nlet timerId = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    countdown = selectedDates[0] - Date.now();\n\n    if (countdown < 0) {\n      alert('Please choose a date in the future');\n      return;\n    }\n\n    elements.startBtn.removeAttribute('disabled');\n  },\n};\n\nflatpickr('#datetime-picker', options);\n\nconst elements = {\n  startBtn: document.querySelector('button[data-start]'),\n  days: document.querySelector('span[data-days]'),\n  hours: document.querySelector('span[data-hours]'),\n  minutes: document.querySelector('span[data-minutes]'),\n  seconds: document.querySelector('span[data-seconds]'),\n};\n\nelements.startBtn.setAttribute('disabled', true);\n\nelements.startBtn.addEventListener('click', () => {\n  if (timerId) {\n    return;\n  }\n  timerId = setInterval(handleClickStart, 1000);\n});\n\nfunction handleClickStart() {\n  if (countdown < 1000) {\n    clearInterval(timerId);\n  }\n  timeObject = millisecondsToTime(countdown);\n  countdown -= 1000;\n\n  elements.days.textContent = timeObject.getDays;\n  elements.hours.textContent = timeObject.getHours;\n  elements.minutes.textContent = timeObject.getMinutes;\n  elements.seconds.textContent = timeObject.getSeconds;\n}\n\nfunction millisecondsToTime(ms) {\n  let getSeconds = Math.floor((ms / 1000) % 60);\n  let getMinutes = Math.floor((ms / (1000 * 60)) % 60);\n  let getHours = Math.floor((ms / (1000 * 60 * 60)) % 24);\n  let getDays = Math.floor(ms / (1000 * 60 * 60 * 24));\n\n  const pad = num => num.toString().padStart(2, '0');\n\n  return {\n    getDays: pad(getDays),\n    getHours: pad(getHours),\n    getMinutes: pad(getMinutes),\n    getSeconds: pad(getSeconds),\n  };\n}\n"],"names":["countdown","timeObject","timerId","options","selectedDates","elements","flatpickr","handleClickStart","millisecondsToTime","ms","getSeconds","getMinutes","getHours","getDays","pad","num"],"mappings":"wIAGA,IAAIA,EAAY,EACZC,EAAa,CAAA,EACbC,EAAU,KAEd,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAGrB,GAFAJ,EAAYI,EAAc,GAAK,KAAK,IAAG,EAEnCJ,EAAY,EAAG,CACjB,MAAM,oCAAoC,EAC1C,MACD,CAEDK,EAAS,SAAS,gBAAgB,UAAU,CAC7C,CACH,EAEAC,EAAU,mBAAoBH,CAAO,EAErC,MAAME,EAAW,CACf,SAAU,SAAS,cAAc,oBAAoB,EACrD,KAAM,SAAS,cAAc,iBAAiB,EAC9C,MAAO,SAAS,cAAc,kBAAkB,EAChD,QAAS,SAAS,cAAc,oBAAoB,EACpD,QAAS,SAAS,cAAc,oBAAoB,CACtD,EAEAA,EAAS,SAAS,aAAa,WAAY,EAAI,EAE/CA,EAAS,SAAS,iBAAiB,QAAS,IAAM,CAC5CH,IAGJA,EAAU,YAAYK,EAAkB,GAAI,EAC9C,CAAC,EAED,SAASA,GAAmB,CACtBP,EAAY,KACd,cAAcE,CAAO,EAEvBD,EAAaO,EAAmBR,CAAS,EACzCA,GAAa,IAEbK,EAAS,KAAK,YAAcJ,EAAW,QACvCI,EAAS,MAAM,YAAcJ,EAAW,SACxCI,EAAS,QAAQ,YAAcJ,EAAW,WAC1CI,EAAS,QAAQ,YAAcJ,EAAW,UAC5C,CAEA,SAASO,EAAmBC,EAAI,CAC9B,IAAIC,EAAa,KAAK,MAAOD,EAAK,IAAQ,EAAE,EACxCE,EAAa,KAAK,MAAOF,GAAM,IAAO,IAAO,EAAE,EAC/CG,EAAW,KAAK,MAAOH,GAAM,IAAO,GAAK,IAAO,EAAE,EAClDI,EAAU,KAAK,MAAMJ,GAAM,IAAO,GAAK,GAAK,GAAG,EAEnD,MAAMK,EAAMC,GAAOA,EAAI,SAAU,EAAC,SAAS,EAAG,GAAG,EAEjD,MAAO,CACL,QAASD,EAAID,CAAO,EACpB,SAAUC,EAAIF,CAAQ,EACtB,WAAYE,EAAIH,CAAU,EAC1B,WAAYG,EAAIJ,CAAU,CAC9B,CACA"}